<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Accomplishment <%=course.course_name%> | AMP Digital</title>
  <meta property="og:title" content="Accomplishment <%=course.course_name%> | AMP Digital" />
  <meta property="og:url" content="<%=verification_url%>" />
  <meta property="og:type" content="blog" />
  <meta property="og:description" content="AMP Digital Trainings" />
  <meta property="og:image" content="https://www.ampdigital.co/ogimages/DMP-01.png" />

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <!-- Bootstrap CSS-->
  <link rel="stylesheet" href="/vendor/bootstrap/css/bootstrap.min.css">
  <!-- Google fonts - Open Sans-->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
  <!-- Theme stylesheet-->
  <link rel="stylesheet" href="/css/style.default.min.css" id="theme-stylesheet">
  <!-- Favicon-->
  <link rel="shortcut icon" href="/logo-ampdigitalnet.png">

    <style>
      /* Extra small devices (phones, 600px and down) */
@media only screen and (max-width: 600px) {
  #certificate{
    width:100%;
  }
}

/* Small devices (portrait tablets and large phones, 600px and up) */
@media only screen and (min-width: 600px) {
  #certificate{
    width:70%;
  }
}

/* Medium devices (landscape tablets, 768px and up) */
@media only screen and (min-width: 768px) {
  #certificate{
    width:70%;
  }
}

/* Large devices (laptops/desktops, 992px and up) */
@media only screen and (min-width: 992px) {
  #certificate{
    width:70%;
  }
}

/* Extra large devices (large laptops and desktops, 1200px and up) */
@media only screen and (min-width: 1200px) {
  #certificate{
    width:70%;
  }
}
      .container {
  position: relative;
  text-align: center;
}

.bottom-left {
  position: absolute;
  bottom: 0;
    left: 35%;
}

.bottom-left2 {
  position: absolute;
  bottom: 0.5%;
    left: 5%;
}

.bottom-left3 {
  position: absolute;
    top: 95%;
    left: 46%;
}

.bottom-left4 {
  position: absolute;
    width: 100%;
    top: 72%;
    left: 0;
}

.top-left {
  position: absolute;
  top: 8px;
  left: 16px;
}

.top-right {
  position: absolute;
  top: 8px;
  right: 16px;
}

.course-name {
  position: absolute;
  top: 67.5%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.course-name2 {
  position: absolute;
  top: 72.5%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.participant-name {
  position: absolute;
  top: 54.5%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.participant-name2 {
  position: absolute;
  top: 54.5%;
  left: 50%;
  transform: translate(-50%, -50%);
}
    </style>
     <!-- Tweaks for older IEs--><!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NTJGZ4L');</script>
<!-- End Google Tag Manager -->
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NTJGZ4L"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- header-->
<%-include partials/header.ejs%>

    <div class="container">
      <div class="" id="certificatehtml">
        <img id="certificate" src="/certificatebanner.png" alt="">
          <!-- <img id="certificate" class="d-md-none" width="100%" src="/seoworkshopcertificate (1).png" alt=""> -->
          <div class="course-name2 d-none d-md-block mt-2" style="width: 70%;"><h2><%=course.course_name%></h2></div>
                    <div class="course-name d-md-none mt-2" style="width: 70%;"><h5 style="font-size: 0.7rem;"><%=course.course_name%></h5></div>
                    <div class="bottom-left3 d-none d-md-flex" style="font-size: 0.7rem;;">Date: <%=moment(new Date()).format("DD MMM YYYY")%></div>
                    <div class="bottom-left4 d-md-none" style="font-size: 0.5rem;">Date: <%=moment(new Date()).format("DD MMM YYYY")%></div>
                    <div class="bottom-left2 d-md-none" style="font-size: 0.3rem!important;">Verification URL: <%=verification_url%></div>
          <div class="bottom-left d-none d-md-flex" style="font-size: 0.5rem;;">Verification URL: <%=verification_url%></div>
          <div class="participant-name d-none d-md-flex"><h2><%=certificateuser.local.name %> <%=certificateuser.local.lastname %></h2></div>
          <div class="participant-name2 mt-2 d-md-none"><p><strong><%=certificateuser.local.name %> <%=certificateuser.local.lastname %></strong></p></div>
        </div>
    </div>
    <div class="container">
      <div class="row mt-2 justify-content-center mb-2">
        <div class="col-md-2">
          <button id="certificatedownload" class="btn btn-success disabled mt-4">Download</button>
        </div>
        <!-- <div class="col-md-2">
          <a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=<%=verification_url%>" id="certificatedownload" style="background-color: #0072b1; border-color: #0072b1;" class="btn btn-success mt-4">Share on Linkedin</a>
        </div> -->
      </div>
    </div>
    <!-- footer-->
<!-- JavaScript files-->
    <!-- Font Awesome CSS-->
    <link href="/faicons/css/all.min.css" rel="stylesheet"> <!--load all styles -->
                <link rel="stylesheet" href="https://www.ampdigital.co/css/font.min.css">

  <link rel="stylesheet" href="/vendor/bootstrap-select/css/bootstrap-select.min.css">
  <!-- Custom stylesheet - for your changes-->
  <link rel="stylesheet" href="/css/custom.min.css">
<script src="/vendor/jquery/jquery.min.js"></script>
<script src="/vendor/popper.js/umd/popper.min.js"> </script>
<script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="/vendor/jquery.cookie/jquery.cookie.min.js"> </script>
<script src="/vendor/bootstrap-select/js/bootstrap-select.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBu5nZKbeK-WHQ70oqOWo-_4VmwOwKP9YQ"></script>
<script src="/js/front.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.0/jquery-confirm.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.0/jquery-confirm.min.js"></script>
<script src="/js/custom/contact.min.js"></script>
<script src="/js/custom/notification.min.js"></script>
<script src="https://sdk.amazonaws.com/js/aws-sdk-2.41.0.min.js"></script>
<script src="/js/chatbot.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js" integrity="sha512-01CJ9/g7e8cUmY0DFTMcUw/ikS799FHiOA0eyHsUWfOetgbx/t6oV4otQ5zXKQyIrQGTHSmRVPIgrgLcZi/WMA==" crossorigin="anonymous"></script>
<script src="https://fastcdn.org/FileSaver.js/1.1.20151003/FileSaver.min.js"></script>
<script src="/download.js"></script>
<script src="https://sdk.amazonaws.com/js/aws-sdk-2.1.24.min.js"></script>
<script type="text/javascript">
  AWS.config.update({
      accessKeyId : 'AKIAQFXTPLX2CNUSHP5C',
      secretAccessKey : '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'
  });
  AWS.config.region = 'us-west-2';
</script>
<script type="text/javascript">
  $(document).ready(function(){
    function _base64ToArrayBuffer(base64) {
    var binary_string = window.atob(base64);
    var len = binary_string.length;
    var bytes = new Uint8Array(len);
    for (var i = 0; i < len; i++) {
        bytes[i] = binary_string.charCodeAt(i);
    }
    return bytes.buffer;
}
    var src = null;
    var node = document.getElementById('certificatehtml');

    $("#certificatedownload").on("click", function(){
      download($('#certificate').attr('src'),"ampdigitalcertificate.png","image/png");
    });

    domtoimage.toPng(node)
    .then(function (dataUrl) {
      src = dataUrl;
      var bucket = new AWS.S3({params: {Bucket: 'ampdigital'}});
      console.log(src);
      var buf = _base64ToArrayBuffer(src.split(",")[1])
      // buf = new Buffer(src.replace(/^data:image\/\w+;base64,/, ""),'base64')
      var params = {Key: "certificateseoworkshop.png", 
      Body: buf,
    ContentEncoding: 'base64',
    ContentType: 'image/jpeg'};
      bucket.upload(params).on('httpUploadProgress', function(evt) {
          console.log("Uploading :: " + parseInt((evt.loaded * 100) / evt.total)+'% completed');
      }).send(function(err, data) {
          // el.children('.progress').html("Processing... Please wait.");
          imageurl = data.Location;
          console.log(imageurl);
      });
          $("#certificate").attr("src", dataUrl);
        $("#certificatehtml").find("div").remove();
        $("#certificatedownload").removeClass("disabled");
    })
    .catch(function (error) {
        console.error('oops, something went wrong!', error);
    });
  })
</script>
</body>
</html>
